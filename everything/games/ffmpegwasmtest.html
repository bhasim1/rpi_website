<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src='https://unpkg.com/@ffmpeg/ffmpeg@0.9.6/dist/ffmpeg.min.js'></script>
  </head>
  <body>
    <script>
      async function mergeVideo(video, audio) {
        //init
        let { createFFmpeg, fetchFile } = FFmpeg;
        let ffmpeg = createFFmpeg();
        await ffmpeg.load();
        //load files and write them to filesystem
        ffmpeg.FS("writeFile", "video.mp4", await fetchFile(video));
        ffmpeg.FS("writeFile", "audio.mp4", await fetchFile(audio));
        await ffmpeg.run(
          "-i",
          "video.mp4",
          "-i",
          "audio.mp4",
          "-c",
          "copy",
          "output.mp4"
        );
        let data = await ffmpeg.FS("readFile", "output.mp4");
        console.log(date);
        return new Uint8Array(data.buffer);
      }
      mergeVideo(
        "//rr4---sn-4g5e6ns6.googlevideo.com/videoplayback?expire=1669065454&ei=jpZ7Y5C_ComW1wK55ZmgCw&ip=2a02%3A810b%3A1620%3A10%3A5557%3A3f5d%3A4fc9%3A1a3c&id=o-AC4NpHz0wmjMJ6-1k4WhwfrozrwAb1ohCTtM3ynzlrEA&itag=303&source=youtube&requiressl=yes&mh=M9&mm=31%2C29&mn=sn-4g5e6ns6%2Csn-4g5edndk&ms=au%2Crdu&mv=m&mvi=4&pl=39&initcwndbps=2106250&spc=SFxXNjwsPWD0H8ssFN0wI2SJq-6qEG8&vprv=1&svpuc=1&mime=video%2Fwebm&gir=yes&clen=248807586&dur=1014.832&lmt=1666365704836471&mt=1669043382&fvip=4&keepalive=yes&fexp=24001373%2C24007246&c=ANDROID&txp=5437434&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cspc%2Cvprv%2Csvpuc%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=AOq0QJ8wRQIgHNuGEiJiCLBiaW9sEV7kkTlnm-AMkd1IKse_JJSgSr4CIQCWu585E_tg_vQO0gqkaAFzhldpAlKYvV2NuvEIV65nFg%3D%3D&lsparams=mh%2Cmm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%2Cinitcwndbps&lsig=AG3C_xAwRgIhAMoQl56ZhB-cJUfexqIgJKdLuSBl_3kvemuqp1fhxoAuAiEAnmdIPyLW-BkqMnHCnwBDw8w7JviwXYUfGK0Wq1MORtE%3D",
        "//rr4---sn-4g5e6ns6.googlevideo.com/videoplayback?expire=1669065454&ei=jpZ7Y5C_ComW1wK55ZmgCw&ip=2a02%3A810b%3A1620%3A10%3A5557%3A3f5d%3A4fc9%3A1a3c&id=o-AC4NpHz0wmjMJ6-1k4WhwfrozrwAb1ohCTtM3ynzlrEA&itag=251&source=youtube&requiressl=yes&mh=M9&mm=31%2C29&mn=sn-4g5e6ns6%2Csn-4g5edndk&ms=au%2Crdu&mv=m&mvi=4&pl=39&initcwndbps=2106250&spc=SFxXNjwsPWD0H8ssFN0wI2SJq-6qEG8&vprv=1&svpuc=1&mime=audio%2Fwebm&gir=yes&clen=14639132&dur=1014.861&lmt=1666359268807203&mt=1669043382&fvip=4&keepalive=yes&fexp=24001373%2C24007246&c=ANDROID&txp=5432434&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cspc%2Cvprv%2Csvpuc%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=AOq0QJ8wRgIhAJ00r0Kunv1LeknQjELr-4nOhhj5zsAmfdcHXIYXpWHZAiEA9UBzzxSpu6J3TQKz2Zvrz0K2bK6Pqpi-XXp8q1DJsF4%3D&lsparams=mh%2Cmm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%2Cinitcwndbps&lsig=AG3C_xAwRgIhAMoQl56ZhB-cJUfexqIgJKdLuSBl_3kvemuqp1fhxoAuAiEAnmdIPyLW-BkqMnHCnwBDw8w7JviwXYUfGK0Wq1MORtE%3D"
      );
    </script>
  </body>
</html>
